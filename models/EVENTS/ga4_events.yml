version: 2

models:
  - name: ga4_events
    description: "This model cleans and flattens raw GA4 events data."
    config:
      materialized: table
    columns:
      - name: session_id
        description: "Session ID extracted from event parameters."
        data_type: string

      - name: event_date
        description: "Date of the event."
        data_type: date

      - name: event_timestamp
        description: "Timestamp of the event."
        data_type: timestamp

      - name: event_name
        description: "Name of the event."
        data_type: string

      - name: event_previous_timestamp
        description: "Timestamp of the previous event."
        data_type: timestamp

      - name: event_value_in_usd
        description: "Event value in USD."
        data_type: float

      - name: event_bundle_sequence_id
        description: "Bundle sequence ID of the event."
        data_type: integer

      - name: event_server_timestamp_offset
        description: "Server timestamp offset for the event."
        data_type: integer

      - name: user_id
        description: "User ID associated with the event."
        data_type: string

      - name: user_pseudo_id
        description: "Pseudo user ID associated with the event."
        data_type: string

      - name: user_first_touch_timestamp
        description: "Timestamp of the user's first touchpoint."
        data_type: timestamp

      - name: privacy_info_analytics_storage
        description: "Information on the user's consent for analytics storage."
        data_type: string

      - name: privacy_info_ads_storage
        description: "Information on the user's consent for ads storage."
        data_type: string

      - name: privacy_info_uses_transient_token
        description: "Whether the user uses a transient token."
        data_type: boolean

      - name: user_ltv_revenue
        description: "Lifetime value revenue for the user."
        data_type: float

      - name: user_ltv_currency
        description: "Currency used for the lifetime value revenue."
        data_type: string

      - name: device_category
        description: "Category of the device used for the event."
        data_type: string

      - name: device_mobile_brand_name
        description: "Brand name of the mobile device."
        data_type: string

      - name: device_mobile_model_name
        description: "Model name of the mobile device."
        data_type: string

      - name: device_mobile_marketing_name
        description: "Marketing name of the mobile device."
        data_type: string

      - name: device_mobile_os_hardware_model
        description: "OS hardware model of the mobile device."
        data_type: string

      - name: device_operating_system
        description: "Operating system used on the device."
        data_type: string

      - name: device_operating_system_version
        description: "Version of the operating system used on the device."
        data_type: string

      - name: device_vendor_id
        description: "Vendor ID of the device."
        data_type: string

      - name: device_advertising_id
        description: "Advertising ID of the device."
        data_type: string

      - name: device_language
        description: "Language set on the device."
        data_type: string

      - name: device_is_limited_ad_tracking
        description: "Whether ad tracking is limited on the device."
        data_type: boolean

      - name: device_time_zone_offset_seconds
        description: "Time zone offset in seconds for the device."
        data_type: integer

      - name: device_web_info_browser
        description: "Browser information for the web device."
        data_type: string

      - name: device_web_info_browser_version
        description: "Version of the web browser."
        data_type: string

      - name: geo_continent
        description: "Continent where the event took place."
        data_type: string

      - name: geo_country
        description: "Country where the event took place."
        data_type: string

      - name: geo_region
        description: "Region where the event took place."
        data_type: string

      - name: geo_city
        description: "City where the event took place."
        data_type: string

      - name: geo_sub_continent
        description: "Sub-continent where the event took place."
        data_type: string

      - name: geo_metro
        description: "Metro area where the event took place."
        data_type: string

      - name: app_info_id
        description: "App ID associated with the event."
        data_type: string

      - name: app_info_version
        description: "Version of the app associated with the event."
        data_type: string

      - name: app_info_install_store
        description: "Install store used for the app."
        data_type: string

      - name: app_info_firebase_app_id
        description: "Firebase App ID for the event."
        data_type: string

      - name: app_info_install_source
        description: "Source of the app install."
        data_type: string

      - name: traffic_source_name
        description: "Traffic source name for the event."
        data_type: string

      - name: traffic_source_medium
        description: "Traffic source medium for the event."
        data_type: string

      - name: traffic_source_source
        description: "Traffic source for the event."
        data_type: string

      - name: stream_id
        description: "ID of the stream associated with the event."
        data_type: string

      - name: platform
        description: "Platform where the event occurred."
        data_type: string

      - name: event_dimensions_hostname
        description: "Hostname of the event dimensions."
        data_type: string

      - name: ecommerce_total_item_quantity
        description: "Total item quantity in the ecommerce transaction."
        data_type: integer

      - name: ecommerce_purchase_revenue_in_usd
        description: "Purchase revenue in USD for ecommerce transactions."
        data_type: float

      - name: ecommerce_purchase_revenue
        description: "Purchase revenue for ecommerce transactions."
        data_type: float

      - name: ecommerce_refund_value_in_usd
        description: "Refund value in USD for ecommerce transactions."
        data_type: float

      - name: ecommerce_refund_value
        description: "Refund value for ecommerce transactions."
        data_type: float

      - name: ecommerce_shipping_value_in_usd
        description: "Shipping value in USD for ecommerce transactions."
        data_type: float

      - name: ecommerce_shipping_value
        description: "Shipping value for ecommerce transactions."
        data_type: float

      - name: ecommerce_tax_value_in_usd
        description: "Tax value in USD for ecommerce transactions."
        data_type: float

      - name: ecommerce_tax_value
        description: "Tax value for ecommerce transactions."
        data_type: float

      - name: ecommerce_unique_items
        description: "Number of unique items in the ecommerce transaction."
        data_type: integer

      - name: ecommerce_transaction_id
        description: "Transaction ID for the ecommerce transaction."
        data_type: string

      - name: join_key
        description: "Join key created by concatenating user_pseudo_id, event_timestamp, event_name, and a row number."
        data_type: string
