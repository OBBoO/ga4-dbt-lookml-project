version: 2

models:
  - name: ga4_events_params  # Name of the model
    description: "This model prepares and flattens raw GA4 events data, creating a join key and deduplicating events."
    config:
      materialized: table

    columns:
    
      - name: ga_session_id
        description: "Google Analytics session ID extracted from event parameters."
        data_type: integer

      - name: join_key
        description: "Join key created by concatenating user_pseudo_id, event_timestamp, event_name, and dedup_id."
        data_type: string

      - name: user_pseudo_id
        description: "Pseudo user ID associated with the event."
        data_type: string

      - name: event_timestamp
        description: "Timestamp of the event."
        data_type: timestamp

      - name: event_name
        description: "Name of the event."
        data_type: string

      - name: key
        description: "Key associated with the event parameter."
        data_type: string

      - name: string_value
        description: "String value associated with the event parameter."
        data_type: string

      - name: int_value
        description: "Integer value associated with the event parameter."
        data_type: integer

      - name: float_value
        description: "Float value associated with the event parameter."
        data_type: float

      - name: double_value
        description: "Double value associated with the event parameter."
        data_type: float

      - name: dedup_id
        description: "Unique identifier for each event to remove duplicates."
        data_type: integer
